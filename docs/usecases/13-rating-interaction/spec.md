# Usecase: ë³„ì  ì„ íƒ ì¸í„°ë™ì…˜

## ê°œìš”
ì‚¬ìš©ìê°€ ë¦¬ë·° ì‘ì„± í˜ì´ì§€ì—ì„œ ë³„ ì•„ì´ì½˜ì„ í´ë¦­í•˜ì—¬ í‰ì (1-5ì )ì„ ì„ íƒí•˜ëŠ” ì¸í„°ë™í‹°ë¸Œ ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì„ íƒëœ ë³„ì€ ë…¸ë€ìƒ‰ìœ¼ë¡œ í•˜ì´ë¼ì´íŠ¸ë˜ë©°, ì„ íƒëœ ê°œìˆ˜ë§Œí¼ í‰ì ìœ¼ë¡œ ë°˜ì˜ë©ë‹ˆë‹¤.

## ê´€ë ¨ ë¬¸ì„œ
- PRD: [ë¦¬ë·° ì‘ì„± í˜ì´ì§€ (/review/new?placeId={placeId})](/docs/prd.md#page-3-ë¦¬ë·°-ì‘ì„±-í˜ì´ì§€-review-write)
- User Flow: [13. ë³„ì  ì„ íƒ ì¸í„°ë™ì…˜](/docs/userflow.md#13-ë³„ì -ì„ íƒ-ì¸í„°ë™ì…˜)
- Related Usecase: [6. ë¦¬ë·° ì‘ì„± í˜ì´ì§€ ì§„ì…](/docs/usecases/6-review-write-entry/spec.md)

---

## Actors (í–‰ìœ„ì)

### Primary Actor
- **ë¦¬ë·° ì‘ì„±ì**: ë§›ì§‘ ë¦¬ë·°ë¥¼ ì‘ì„±í•˜ë©° í‰ì ì„ ë¶€ì—¬í•˜ë ¤ëŠ” ì‚¬ìš©ì

### Secondary Actors
- **ì‹œìŠ¤í…œ**: ë³„ì  ì„ íƒ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³  í¼ ë°ì´í„°ì— ë°˜ì˜í•˜ëŠ” í”„ë¡ íŠ¸ì—”ë“œ ì‹œìŠ¤í…œ

---

## Preconditions (ì „ì œ ì¡°ê±´)

1. ì‚¬ìš©ìê°€ ë¦¬ë·° ì‘ì„± í˜ì´ì§€(`/review/new?placeId={placeId}`)ì— ì§„ì…í•œ ìƒíƒœ
2. ë¦¬ë·° ì‘ì„± í¼ì´ ì •ìƒì ìœ¼ë¡œ ë Œë”ë§ëœ ìƒíƒœ
3. ë³„ì  ì„ íƒ UIê°€ ì´ˆê¸°í™”ëœ ìƒíƒœ (ë³„ 5ê°œ, ëª¨ë‘ ë¹„ì„ íƒ ìƒíƒœ)
4. React Hook Formì´ í¼ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³  ìˆëŠ” ìƒíƒœ

---

## Postconditions (í›„ì† ì¡°ê±´)

### Success Postconditions
1. ì„ íƒëœ ë³„ì˜ ê°œìˆ˜ë§Œí¼ ë³„ ì•„ì´ì½˜ì´ ë…¸ë€ìƒ‰ìœ¼ë¡œ ë³€ê²½ë¨
2. ì„ íƒë˜ì§€ ì•Šì€ ë³„ì€ íšŒìƒ‰ ë˜ëŠ” ë¹ˆ ì•„ì´ì½˜ ìƒíƒœë¡œ ìœ ì§€ë¨
3. ì„ íƒëœ ë³„ì˜ ê°œìˆ˜(1-5)ê°€ í¼ ìƒíƒœì˜ í‰ì (rating) í•„ë“œì— ì €ì¥ë¨
4. ì‚¬ìš©ìê°€ ë‹¤ë¥¸ ë³„ì„ í´ë¦­í•˜ì—¬ í‰ì ì„ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ìƒíƒœ

### Failure Postconditions
1. ì˜ëª»ëœ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ê¸°ì¡´ ì„ íƒ ìƒíƒœ ìœ ì§€
2. ì‹œìŠ¤í…œ ì˜¤ë¥˜ ë°œìƒ ì‹œ ê¸°ë³¸ ìƒíƒœ(ë¹„ì„ íƒ)ë¡œ ë³µê·€

---

## Main Success Scenario (ì£¼ìš” ì„±ê³µ ì‹œë‚˜ë¦¬ì˜¤)

### Step 1: ì´ˆê¸° ìƒíƒœ í™•ì¸
**Actor**: ì‹œìŠ¤í…œ
**Action**:
- ë¦¬ë·° ì‘ì„± í˜ì´ì§€ê°€ ë¡œë“œë˜ë©´ ë³„ì  ì„ íƒ UI ë Œë”ë§
- ë³„ 5ê°œê°€ ëª¨ë‘ ë¹„ì„ íƒ ìƒíƒœë¡œ í‘œì‹œë¨ (íšŒìƒ‰ ë˜ëŠ” ë¹ˆ ë³„ ì•„ì´ì½˜)
- í¼ ìƒíƒœì˜ rating í•„ë“œëŠ” ì´ˆê¸°ê°’ null ë˜ëŠ” 0

**System Response**:
- ì‚¬ìš©ìì—ê²Œ "í‰ì ì„ ì„ íƒí•´ì£¼ì„¸ìš”"ì™€ ê°™ì€ ì•ˆë‚´ ë ˆì´ë¸” í‘œì‹œ
- ë³„ ì•„ì´ì½˜ 5ê°œê°€ ê°€ë¡œë¡œ ë‚˜ë€íˆ ë°°ì¹˜ë¨
- ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ í˜¸ë²„ íš¨ê³¼ ì ìš© ê°€ëŠ¥ (ì‹œê°ì  í”¼ë“œë°±)

---

### Step 2: ì‚¬ìš©ì ë³„ í´ë¦­
**Actor**: ì‚¬ìš©ì
**Action**:
- ë¦¬ë·° ì‘ì„± í¼ì˜ í‰ì  ì„¹ì…˜ì—ì„œ íŠ¹ì • ë³„ ì•„ì´ì½˜ í´ë¦­
- ì˜ˆ: 3ë²ˆì§¸ ë³„ì„ í´ë¦­ (3ì  ì„ íƒ)

**System Response**:
- í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•˜ê³  í´ë¦­ëœ ë³„ì˜ ì¸ë±ìŠ¤ í™•ì¸ (1-5)
- í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì‹¤í–‰

---

### Step 3: ë³„ì  ìƒíƒœ ì—…ë°ì´íŠ¸
**Actor**: ì‹œìŠ¤í…œ
**Action**:
- í´ë¦­ëœ ë³„ì˜ ì¸ë±ìŠ¤(ì˜ˆ: 3)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìƒíƒœ ì—…ë°ì´íŠ¸
- 1ë²ˆë¶€í„° í´ë¦­ëœ ì¸ë±ìŠ¤(3ë²ˆ)ê¹Œì§€ ì„ íƒ ìƒíƒœë¡œ ë³€ê²½
- í´ë¦­ëœ ì¸ë±ìŠ¤ ì´í›„(4ë²ˆ, 5ë²ˆ)ëŠ” ë¹„ì„ íƒ ìƒíƒœë¡œ ìœ ì§€ ë˜ëŠ” ë³€ê²½

**System Response**:
- ì»´í¬ë„ŒíŠ¸ ìƒíƒœ ì—…ë°ì´íŠ¸ (React useState ë˜ëŠ” í¼ ìƒíƒœ)
- rating í•„ë“œì— ì„ íƒëœ ë³„ì˜ ê°œìˆ˜(3) ì €ì¥
- UI ë¦¬ë Œë”ë§ íŠ¸ë¦¬ê±°

---

### Step 4: ì‹œê°ì  í”¼ë“œë°± ì œê³µ
**Actor**: ì‹œìŠ¤í…œ
**Action**:
- ì„ íƒëœ ë³„(1-3ë²ˆ)ì˜ ì•„ì´ì½˜ì„ ë…¸ë€ìƒ‰(#FFD700) ë˜ëŠ” ì±„ì›Œì§„ ë³„ ì•„ì´ì½˜ìœ¼ë¡œ ë³€ê²½
- ë¹„ì„ íƒëœ ë³„(4-5ë²ˆ)ì€ íšŒìƒ‰(#CCCCCC) ë˜ëŠ” ë¹ˆ ë³„ ì•„ì´ì½˜ìœ¼ë¡œ í‘œì‹œ
- ì„ íƒ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ ì ìš© (ì˜µì…˜, ì˜ˆ: í˜ì´ë“œì¸ ë˜ëŠ” ìŠ¤ì¼€ì¼ íš¨ê³¼)

**System Response**:
- ì‚¬ìš©ìì—ê²Œ ëª…í™•í•œ ì‹œê°ì  í”¼ë“œë°± ì œê³µ
- í˜„ì¬ ì„ íƒëœ í‰ì ì„ ì§ê´€ì ìœ¼ë¡œ ì¸ì§€ ê°€ëŠ¥
- ì ‘ê·¼ì„± ì§€ì›: aria-label ì—…ë°ì´íŠ¸ (ì˜ˆ: "3ì  ì„ íƒë¨")

---

### Step 5: í¼ ìœ íš¨ì„± ê²€ì¦ ìƒíƒœ ì—…ë°ì´íŠ¸
**Actor**: ì‹œìŠ¤í…œ
**Action**:
- React Hook Form ë˜ëŠ” Zod ìŠ¤í‚¤ë§ˆê°€ rating í•„ë“œ ê²€ì¦
- í‰ì ì´ 1-5 ë²”ìœ„ì¸ì§€ í™•ì¸
- í•„ìˆ˜ í•„ë“œ ì¶©ì¡± ì—¬ë¶€ í™•ì¸

**System Response**:
- ìœ íš¨ì„± ê²€ì¦ í†µê³¼ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€ ì œê±°
- ì œì¶œ ë²„íŠ¼ í™œì„±í™” ì¡°ê±´ ì¬í‰ê°€
- í¼ ìƒíƒœê°€ ìœ íš¨í•˜ë©´ ì œì¶œ ê°€ëŠ¥ ìƒíƒœë¡œ ì „í™˜

---

### Step 6: ì‚¬ìš©ì ì¬ì„ íƒ ê°€ëŠ¥ ìƒíƒœ ìœ ì§€
**Actor**: ì‹œìŠ¤í…œ
**Action**:
- ì‚¬ìš©ìê°€ ë‹¤ë¥¸ ë³„ì„ í´ë¦­í•˜ì—¬ í‰ì ì„ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ ëŒ€ê¸°
- ì˜ˆ: ì‚¬ìš©ìê°€ 5ë²ˆì§¸ ë³„ì„ í´ë¦­í•˜ë©´ Step 2-5 ë°˜ë³µ

**System Response**:
- ìƒˆë¡œìš´ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•  ì¤€ë¹„ ì™„ë£Œ
- ê¸°ì¡´ ì„ íƒ ìƒíƒœëŠ” ìƒˆë¡œìš´ ì„ íƒì´ ìˆì„ ë•Œê¹Œì§€ ìœ ì§€

---

### Step 7: í‰ì  ë°ì´í„° í¼ì— ë°˜ì˜
**Actor**: ì‹œìŠ¤í…œ
**Action**:
- ì‚¬ìš©ìê°€ "ë¦¬ë·° ì‘ì„±í•˜ê¸°" ë²„íŠ¼ í´ë¦­ ì‹œ í¼ ì œì¶œ
- rating í•„ë“œ ê°’(1-5)ì´ ë‹¤ë¥¸ í¼ ë°ì´í„°ì™€ í•¨ê»˜ ì„œë²„ë¡œ ì „ì†¡

**System Response**:
- ì„ íƒëœ í‰ì ì´ ë¦¬ë·° ë°ì´í„°ì˜ ì¼ë¶€ë¡œ ì €ì¥ë¨
- ì œì¶œ í›„ ì¥ì†Œ ìƒì„¸ í˜ì´ì§€ì—ì„œ ë³„ì ì´ ì •ìƒ í‘œì‹œë¨

---

## Alternative Flows (ëŒ€ì•ˆ íë¦„)

### Alternative Flow A: ë™ì¼í•œ ë³„ ì¬í´ë¦­
**Trigger**: ì‚¬ìš©ìê°€ ì´ë¯¸ ì„ íƒëœ ë³„ì„ ë‹¤ì‹œ í´ë¦­

**Steps**:
1. ì‹œìŠ¤í…œì´ í´ë¦­ëœ ë³„ì´ ì´ë¯¸ ì„ íƒëœ ìƒíƒœì„ì„ ê°ì§€
2. ì •ì±…ì— ë”°ë¼ ì²˜ë¦¬:
   - **ì˜µì…˜ 1 (ìœ ì§€)**: í˜„ì¬ í‰ì  ê·¸ëŒ€ë¡œ ìœ ì§€ (ì•„ë¬´ ë³€í™” ì—†ìŒ)
   - **ì˜µì…˜ 2 (ì´ˆê¸°í™”)**: í‰ì  ì„ íƒì„ í•´ì œí•˜ì—¬ 0ì ìœ¼ë¡œ ë¦¬ì…‹
   - **ì˜µì…˜ 3 (ê°ì†Œ)**: í•´ë‹¹ ë³„ê³¼ ê·¸ ì´í›„ë¥¼ ë¹„ì„ íƒ ìƒíƒœë¡œ ë³€ê²½ (ì˜ˆ: 3ì ì—ì„œ 2ì ìœ¼ë¡œ ê°ì†Œ)
3. ì„ íƒëœ ì •ì±…ì— ë”°ë¼ UI ì—…ë°ì´íŠ¸

**Postcondition**:
- ì˜µì…˜ 1: í‰ì  ìœ ì§€
- ì˜µì…˜ 2: í‰ì  ì´ˆê¸°í™”ë˜ì–´ ë‹¤ì‹œ ì„ íƒ í•„ìš”
- ì˜µì…˜ 3: í‰ì ì´ í•œ ë‹¨ê³„ ê°ì†Œ

**ê¶Œì¥ ì •ì±…**: ì˜µì…˜ 1 (ìœ ì§€) - ì‚¬ìš©ì í˜¼ë€ ìµœì†Œí™”

---

### Alternative Flow B: ë§ˆìš°ìŠ¤ ì˜¤ë²„ ë¯¸ë¦¬ë³´ê¸°
**Trigger**: ì‚¬ìš©ìê°€ ë³„ ìœ„ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¼ (í´ë¦­ ì „)

**Steps**:
1. ì‹œìŠ¤í…œì´ ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì´ë²¤íŠ¸ ê°ì§€
2. ë§ˆìš°ìŠ¤ê°€ ìœ„ì¹˜í•œ ë³„ê¹Œì§€ ì„ì‹œë¡œ í•˜ì´ë¼ì´íŠ¸ í‘œì‹œ (ì—°í•œ ë…¸ë€ìƒ‰ ë˜ëŠ” í…Œë‘ë¦¬)
3. ë§ˆìš°ìŠ¤ê°€ ë²—ì–´ë‚˜ë©´ ì„ì‹œ í•˜ì´ë¼ì´íŠ¸ ì œê±°, ê¸°ì¡´ ì„ íƒ ìƒíƒœë¡œ ë³µê·€
4. ì‚¬ìš©ìê°€ í´ë¦­í•˜ë©´ Main Scenarioë¡œ ì§„í–‰

**Postcondition**: ì‚¬ìš©ìê°€ í´ë¦­ ì „ í‰ì ì„ ë¯¸ë¦¬ í™•ì¸í•  ìˆ˜ ìˆì–´ UX í–¥ìƒ

---

### Alternative Flow C: í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
**Trigger**: ì‚¬ìš©ìê°€ í‚¤ë³´ë“œë¡œ ë³„ì  ì„ íƒ ì‹œë„ (ì ‘ê·¼ì„±)

**Steps**:
1. ì‚¬ìš©ìê°€ Tab í‚¤ë¡œ ë³„ì  ì„¹ì…˜ì— í¬ì»¤ìŠ¤ ì´ë™
2. ì²« ë²ˆì§¸ ë³„ì— í¬ì»¤ìŠ¤ í‘œì‹œ (í…Œë‘ë¦¬ ë˜ëŠ” ì•„ì›ƒë¼ì¸)
3. ì¢Œìš° í™”ì‚´í‘œ í‚¤ë¡œ ë³„ ê°„ ì´ë™
   - ì˜¤ë¥¸ìª½ í™”ì‚´í‘œ: ë‹¤ìŒ ë³„ë¡œ í¬ì»¤ìŠ¤ ì´ë™
   - ì™¼ìª½ í™”ì‚´í‘œ: ì´ì „ ë³„ë¡œ í¬ì»¤ìŠ¤ ì´ë™
4. Space ë˜ëŠ” Enter í‚¤ë¡œ í˜„ì¬ í¬ì»¤ìŠ¤ëœ ë³„ ì„ íƒ
5. ì„ íƒ í›„ Step 3-5 (Main Scenario)ì™€ ë™ì¼í•˜ê²Œ ì§„í–‰

**Postcondition**: ë§ˆìš°ìŠ¤ ì—†ì´ë„ í‰ì  ì„ íƒ ê°€ëŠ¥ (WCAG ì¤€ìˆ˜)

---

## Exception Flows (ì˜ˆì™¸ íë¦„)

### Exception Flow 1: í´ë¦­ ì´ë²¤íŠ¸ ì²˜ë¦¬ ì˜¤ë¥˜
**Trigger**: JavaScript ì˜¤ë¥˜ë¡œ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì‹¤íŒ¨

**Steps**:
1. ì‹œìŠ¤í…œì´ ì˜¤ë¥˜ë¥¼ ê°ì§€í•˜ê³  ì½˜ì†”ì— ì—ëŸ¬ ë¡œê·¸ ì¶œë ¥
2. ì‚¬ìš©ìì—ê²Œ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ: "í‰ì  ì„ íƒì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."
3. ê¸°ì¡´ ì„ íƒ ìƒíƒœ ìœ ì§€ (ë¡¤ë°±)
4. ì‚¬ìš©ìê°€ ë‹¤ì‹œ í´ë¦­ ì‹œë„ ê°€ëŠ¥

**Postcondition**: í‰ì  ì„ íƒì´ ë¶ˆê°€ëŠ¥í•œ ìƒíƒœë¡œ ë‚¨ì§€ ì•Šë„ë¡ ì¬ì‹œë„ ê°€ëŠ¥

---

### Exception Flow 2: ëª¨ë°”ì¼ í„°ì¹˜ ì´ë²¤íŠ¸ ì¶©ëŒ
**Trigger**: ëª¨ë°”ì¼ í™˜ê²½ì—ì„œ í„°ì¹˜ ì´ë²¤íŠ¸ì™€ í´ë¦­ ì´ë²¤íŠ¸ê°€ ì¤‘ë³µ ë°œìƒ

**Steps**:
1. ì‹œìŠ¤í…œì´ í„°ì¹˜ ì´ë²¤íŠ¸ë¥¼ ìš°ì„  ì²˜ë¦¬
2. í´ë¦­ ì´ë²¤íŠ¸ëŠ” preventDefaultë¡œ ì°¨ë‹¨í•˜ì—¬ ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€
3. í„°ì¹˜ëœ ë³„ì˜ ì¸ë±ìŠ¤ í™•ì¸ í›„ Main Scenario ì§„í–‰
4. í„°ì¹˜ í”¼ë“œë°± ì œê³µ (ì§„ë™ ë˜ëŠ” ì‹œê°ì  íš¨ê³¼)

**Postcondition**: ëª¨ë°”ì¼ì—ì„œë„ ì •ìƒì ìœ¼ë¡œ í‰ì  ì„ íƒ ê°€ëŠ¥

---

### Exception Flow 3: ë°˜ ë³„ ì„ íƒ ì‹œë„ (ë¯¸ì§€ì› ê¸°ëŠ¥)
**Trigger**: ì‚¬ìš©ìê°€ ë³„ ì•„ì´ì½˜ì˜ ì™¼ìª½ ì ˆë°˜ì„ í´ë¦­í•˜ì—¬ 0.5ì  ë‹¨ìœ„ ì„ íƒ ì‹œë„

**Steps**:
1. í˜„ì¬ ì‹œìŠ¤í…œì€ ì •ìˆ˜ í‰ì (1-5)ë§Œ ì§€ì›
2. í´ë¦­ëœ ë³„ì˜ ì „ì²´ ì˜ì—­ì— ëŒ€í•´ ì •ìˆ˜ í‰ì ìœ¼ë¡œ ì²˜ë¦¬
3. ë°˜ ë³„ ì„ íƒì€ ë¬´ì‹œí•˜ê³  í´ë¦­ëœ ë³„ì˜ ì¸ë±ìŠ¤ë¡œ í‰ì  ì €ì¥
4. í–¥í›„ í™•ì¥ ê³ ë ¤ ì‚¬í•­ìœ¼ë¡œ ê¸°ë¡ (0.5 ë‹¨ìœ„ í‰ì  ì§€ì›)

**Postcondition**: ì •ìˆ˜ í‰ì ë§Œ ì €ì¥ë˜ë©°, ì‚¬ìš©ì í˜¼ë€ ë°©ì§€

---

## Business Rules (ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™)

### BR-1: í‰ì  ë²”ìœ„ ì œí•œ
ë³„ì ì€ ë°˜ë“œì‹œ 1-5 ë²”ìœ„ì˜ ì •ìˆ˜ì—¬ì•¼ í•˜ë©°, 0ì  ë˜ëŠ” 6ì  ì´ìƒì€ í—ˆìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë³„ì„ í•˜ë‚˜ë„ ì„ íƒí•˜ì§€ ì•Šì€ ê²½ìš°(0ì )ëŠ” í¼ ìœ íš¨ì„± ê²€ì¦ì—ì„œ ì—ëŸ¬ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤.

### BR-2: í‰ì  í•„ìˆ˜ ì…ë ¥
ë¦¬ë·° ì‘ì„± ì‹œ í‰ì ì€ í•„ìˆ˜ ì…ë ¥ í•­ëª©ì…ë‹ˆë‹¤. í‰ì ì„ ì„ íƒí•˜ì§€ ì•Šê³  ì œì¶œ ì‹œë„ ì‹œ "í‰ì ì„ ì„ íƒí•´ì£¼ì„¸ìš”"ë¼ëŠ” ìœ íš¨ì„± ê²€ì¦ ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤.

### BR-3: í‰ì  ë³€ê²½ ê°€ëŠ¥
ì‚¬ìš©ìëŠ” ë¦¬ë·°ë¥¼ ì œì¶œí•˜ê¸° ì „ê¹Œì§€ ì–¸ì œë“ ì§€ í‰ì ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ë³„ì„ í´ë¦­í•˜ë©´ ê¸°ì¡´ ì„ íƒì´ ì¦‰ì‹œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.

### BR-4: ì‹œê°ì  ì¼ê´€ì„±
ì„ íƒëœ ë³„ì€ ë…¸ë€ìƒ‰(#FFD700), ë¹„ì„ íƒëœ ë³„ì€ íšŒìƒ‰(#CCCCCC)ìœ¼ë¡œ í†µì¼í•˜ì—¬ ì‚¬ìš©ì í˜¼ë€ì„ ë°©ì§€í•©ë‹ˆë‹¤. (PRD ì»¬ëŸ¬ íŒ”ë ˆíŠ¸ ì¤€ìˆ˜)

### BR-5: ì ‘ê·¼ì„± ì§€ì›
í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜, ìŠ¤í¬ë¦° ë¦¬ë” í˜¸í™˜, ARIA ì†ì„± ì œê³µì„ í†µí•´ ëª¨ë“  ì‚¬ìš©ìê°€ í‰ì ì„ ì„ íƒí•  ìˆ˜ ìˆë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤.

---

## Data Requirements (ë°ì´í„° ìš”êµ¬ì‚¬í•­)

### Input Data
| ë°ì´í„° í•­ëª© | ë°ì´í„° íƒ€ì… | í•„ìˆ˜ ì—¬ë¶€ | ì„¤ëª… |
|------------|------------|----------|------|
| starIndex | Integer (1-5) | í•„ìˆ˜ | í´ë¦­ëœ ë³„ì˜ ì¸ë±ìŠ¤ (1ë²ˆì§¸ ë³„ = 1ì ) |

### Output Data
| ë°ì´í„° í•­ëª© | ë°ì´í„° íƒ€ì… | ì„¤ëª… |
|------------|------------|------|
| rating | Integer (1-5) | í¼ ìƒíƒœì— ì €ì¥ë˜ëŠ” í‰ì  ê°’ |

### Form Schema (Zod)
```typescript
const reviewFormSchema = z.object({
  authorName: z.string().min(2).max(50),
  rating: z.number().int().min(1).max(5, "í‰ì ì€ 1-5ì  ì‚¬ì´ë¡œ ì„ íƒí•´ì£¼ì„¸ìš”"),
  content: z.string().min(1).max(500),
  password: z.string().min(4)
});
```

---

## UI/UX Specifications (UI/UX ëª…ì„¸)

### Component Layout
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  í‰ì                                 â”‚
â”‚  â­ â­ â­ â˜† â˜†                       â”‚ â† ë³„ 5ê°œ (3ê°œ ì„ íƒ ìƒíƒœ ì˜ˆì‹œ)
â”‚  * ë³„ì„ í´ë¦­í•˜ì—¬ í‰ì ì„ ì„ íƒí•˜ì„¸ìš”    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Visual States

#### 1. ì´ˆê¸° ìƒíƒœ (ë¹„ì„ íƒ)
```
â˜† â˜† â˜† â˜† â˜†  (íšŒìƒ‰ ë¹ˆ ë³„)
```

#### 2. 3ì  ì„ íƒ ìƒíƒœ
```
â­ â­ â­ â˜† â˜†  (ë…¸ë€ìƒ‰ ì±„ì›Œì§„ ë³„ 3ê°œ, íšŒìƒ‰ ë¹ˆ ë³„ 2ê°œ)
```

#### 3. 5ì  ì„ íƒ ìƒíƒœ
```
â­ â­ â­ â­ â­  (ëª¨ë‘ ë…¸ë€ìƒ‰ ì±„ì›Œì§„ ë³„)
```

#### 4. ë§ˆìš°ìŠ¤ ì˜¤ë²„ ìƒíƒœ (3ë²ˆì§¸ ë³„ ìœ„ì— ë§ˆìš°ìŠ¤)
```
â­ â­ ğŸŒŸ â˜† â˜†  (í˜¸ë²„ëœ ë³„ê¹Œì§€ í•˜ì´ë¼ì´íŠ¸)
```

### Icon Specifications
- **ì„ íƒëœ ë³„**: lucide-react `Star` ì•„ì´ì½˜, fill="#FFD700" (ë…¸ë€ìƒ‰)
- **ë¹„ì„ íƒ ë³„**: lucide-react `Star` ì•„ì´ì½˜, stroke="#CCCCCC", fill="none" (íšŒìƒ‰ í…Œë‘ë¦¬)
- **í¬ê¸°**: 24x24px (ëª¨ë°”ì¼), 32x32px (ë°ìŠ¤í¬í†±)
- **ê°„ê²©**: ë³„ ì•„ì´ì½˜ ê°„ 8px ê°„ê²©

### Interaction States
| ìƒíƒœ | ì„¤ëª… | ì‹œê°ì  íš¨ê³¼ |
|------|------|------------|
| Default | ê¸°ë³¸ ìƒíƒœ | íšŒìƒ‰ ë¹ˆ ë³„ |
| Hover | ë§ˆìš°ìŠ¤ ì˜¤ë²„ | í˜¸ë²„ëœ ë³„ê¹Œì§€ ì—°í•œ ë…¸ë€ìƒ‰ |
| Selected | í´ë¦­ í›„ ì„ íƒ | ë…¸ë€ìƒ‰ ì±„ì›Œì§„ ë³„ |
| Focus | í‚¤ë³´ë“œ í¬ì»¤ìŠ¤ | íŒŒë€ìƒ‰ í…Œë‘ë¦¬ (ì ‘ê·¼ì„±) |
| Disabled | ë¹„í™œì„±í™” (ì œì¶œ ì¤‘) | íšŒìƒ‰ ë°˜íˆ¬ëª… |

### Accessibility
- `role="radiogroup"` ë˜ëŠ” `role="slider"` ì ìš© (ë³„ì  ê·¸ë£¹)
- ê° ë³„ì— `aria-label="1ì ", "2ì ", ..., "5ì "` ì œê³µ
- ì„ íƒëœ ë³„ì— `aria-checked="true"` ë˜ëŠ” `aria-selected="true"`
- í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜: Tab (í¬ì»¤ìŠ¤), í™”ì‚´í‘œ (ì´ë™), Space/Enter (ì„ íƒ)
- ìŠ¤í¬ë¦° ë¦¬ë” ì•ˆë‚´: "í‰ì  5ì  ì¤‘ 3ì  ì„ íƒë¨"

---

## Performance Requirements (ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­)

### PR-1: ì¸í„°ë™ì…˜ ë°˜ì‘ì„±
- ë³„ í´ë¦­ í›„ ì‹œê°ì  í”¼ë“œë°± í‘œì‹œê¹Œì§€: **50ms ì´ë‚´**
- ìƒíƒœ ì—…ë°ì´íŠ¸ ë° ë¦¬ë Œë”ë§ ì™„ë£Œ: **100ms ì´ë‚´**

### PR-2: ì• ë‹ˆë©”ì´ì…˜ ë¶€ë“œëŸ¬ì›€
- ë³„ ìƒ‰ìƒ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜: **200ms transition** (ease-in-out)
- í”„ë ˆì„ ë“œë¡­ ì—†ì´ ë¶€ë“œëŸ¬ìš´ ì „í™˜ ë³´ì¥ (60fps)

### PR-3: ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±
- ë³„ ì•„ì´ì½˜ SVG ìµœì í™”ë¡œ ë Œë”ë§ ë¶€í•˜ ìµœì†Œí™”
- ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€ (React.memo í™œìš©)

---

## Security Considerations (ë³´ì•ˆ ê³ ë ¤ì‚¬í•­)

### SC-1: í´ë¼ì´ì–¸íŠ¸ ì¸¡ ê²€ì¦
- í‰ì  ê°’ì´ 1-5 ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ” ê²½ìš° í¼ ì œì¶œ ì°¨ë‹¨
- Zod ìŠ¤í‚¤ë§ˆë¡œ íƒ€ì… ì•ˆì „ì„± ë³´ì¥

### SC-2: ì„œë²„ ì¸¡ ì¬ê²€ì¦
- í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì „ì†¡ëœ rating ê°’ì„ ì„œë²„ì—ì„œ ì¬ê²€ì¦
- 1-5 ë²”ìœ„ ì™¸ ê°’ ìˆ˜ì‹  ì‹œ 400 Bad Request ì‘ë‹µ

### SC-3: XSS ë°©ì§€
- ë³„ì  UIëŠ” ì •ì  ì•„ì´ì½˜ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ XSS ìœ„í—˜ ë‚®ìŒ
- í•˜ì§€ë§Œ ë™ì  ìŠ¤íƒ€ì¼ ì ìš© ì‹œ ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ëŒ€ì‹  CSS í´ë˜ìŠ¤ ì‚¬ìš©

---

## Dependencies (ì˜ì¡´ì„±)

### Frontend Dependencies
- **React**: ì»´í¬ë„ŒíŠ¸ ìƒíƒœ ê´€ë¦¬ (useState)
- **React Hook Form**: í¼ ìƒíƒœ í†µí•©
- **Zod**: í‰ì  ìœ íš¨ì„± ê²€ì¦
- **lucide-react**: Star ì•„ì´ì½˜
- **TailwindCSS**: ìŠ¤íƒ€ì¼ë§ (ìƒ‰ìƒ, ê°„ê²©)

### Component Hierarchy
```
ReviewForm
â”œâ”€â”€ PlaceInfoSection
â”œâ”€â”€ AuthorInput
â”œâ”€â”€ StarRating â† ë³„ì  ì„ íƒ ì»´í¬ë„ŒíŠ¸ (ì´ ìœ ì¦ˆì¼€ì´ìŠ¤ ëŒ€ìƒ)
â”‚   â”œâ”€â”€ StarIcon (x5)
â”‚   â””â”€â”€ HiddenInput (rating ê°’ ì €ì¥)
â”œâ”€â”€ ReviewTextarea
â”œâ”€â”€ PasswordInput
â””â”€â”€ SubmitButton
```

---

## Testing Scenarios (í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤)

### Test Case 1: ë³„ 1ê°œ ì„ íƒ
**Given**: ì‚¬ìš©ìê°€ ë¦¬ë·° ì‘ì„± í˜ì´ì§€ì— ì§„ì…í•˜ì—¬ í‰ì  ì„¹ì…˜ í™•ì¸
**When**: ì²« ë²ˆì§¸ ë³„ í´ë¦­
**Then**:
- ì²« ë²ˆì§¸ ë³„ë§Œ ë…¸ë€ìƒ‰ìœ¼ë¡œ ë³€ê²½
- ë‚˜ë¨¸ì§€ 4ê°œ ë³„ì€ íšŒìƒ‰ ìœ ì§€
- rating í•„ë“œ ê°’ì´ 1ë¡œ ì €ì¥ë¨

---

### Test Case 2: ë³„ 5ê°œ ì„ íƒ (ë§Œì )
**Given**: í‰ì  ë¹„ì„ íƒ ìƒíƒœ
**When**: ë‹¤ì„¯ ë²ˆì§¸ ë³„ í´ë¦­
**Then**:
- 5ê°œ ë³„ ëª¨ë‘ ë…¸ë€ìƒ‰ìœ¼ë¡œ ë³€ê²½
- rating í•„ë“œ ê°’ì´ 5ë¡œ ì €ì¥ë¨

---

### Test Case 3: í‰ì  ë³€ê²½ (3ì  â†’ 5ì )
**Given**: 3ì ì´ ì´ë¯¸ ì„ íƒëœ ìƒíƒœ
**When**: ë‹¤ì„¯ ë²ˆì§¸ ë³„ í´ë¦­
**Then**:
- 5ê°œ ë³„ ëª¨ë‘ ë…¸ë€ìƒ‰ìœ¼ë¡œ ë³€ê²½
- rating í•„ë“œ ê°’ì´ 3ì—ì„œ 5ë¡œ ì—…ë°ì´íŠ¸ë¨

---

### Test Case 4: í‰ì  í•˜í–¥ ë³€ê²½ (5ì  â†’ 2ì )
**Given**: 5ì ì´ ì„ íƒëœ ìƒíƒœ
**When**: ë‘ ë²ˆì§¸ ë³„ í´ë¦­
**Then**:
- ì²« ë²ˆì§¸, ë‘ ë²ˆì§¸ ë³„ë§Œ ë…¸ë€ìƒ‰
- ì„¸ ë²ˆì§¸~ë‹¤ì„¯ ë²ˆì§¸ ë³„ì€ íšŒìƒ‰ìœ¼ë¡œ ë³€ê²½
- rating í•„ë“œ ê°’ì´ 5ì—ì„œ 2ë¡œ ì—…ë°ì´íŠ¸ë¨

---

### Test Case 5: í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
**Given**: ì‚¬ìš©ìê°€ Tab í‚¤ë¡œ í‰ì  ì„¹ì…˜ì— í¬ì»¤ìŠ¤ ì´ë™
**When**: ì˜¤ë¥¸ìª½ í™”ì‚´í‘œ 3ë²ˆ ëˆ„ë¥¸ í›„ Space í‚¤ ì…ë ¥
**Then**:
- ì„¸ ë²ˆì§¸ ë³„ê¹Œì§€ ë…¸ë€ìƒ‰ ì„ íƒ
- rating ê°’ì´ 3ìœ¼ë¡œ ì €ì¥ë¨
- ìŠ¤í¬ë¦° ë¦¬ë”ê°€ "3ì  ì„ íƒë¨" ì•ˆë‚´

---

### Test Case 6: ë§ˆìš°ìŠ¤ ì˜¤ë²„ ë¯¸ë¦¬ë³´ê¸°
**Given**: í‰ì  ë¹„ì„ íƒ ìƒíƒœ
**When**: ë„¤ ë²ˆì§¸ ë³„ ìœ„ë¡œ ë§ˆìš°ìŠ¤ ì´ë™ (í´ë¦­ ì „)
**Then**:
- ì²« ë²ˆì§¸~ë„¤ ë²ˆì§¸ ë³„ê¹Œì§€ ì—°í•œ ë…¸ë€ìƒ‰ìœ¼ë¡œ ì„ì‹œ í•˜ì´ë¼ì´íŠ¸
- ë§ˆìš°ìŠ¤ ì•„ì›ƒ ì‹œ ë‹¤ì‹œ íšŒìƒ‰ìœ¼ë¡œ ë³µê·€
- rating ê°’ì€ ì•„ì§ 0 (ì €ì¥ ì•ˆ ë¨)

---

### Test Case 7: ëª¨ë°”ì¼ í„°ì¹˜
**Given**: ëª¨ë°”ì¼ ë””ë°”ì´ìŠ¤ì—ì„œ ë¦¬ë·° ì‘ì„± í˜ì´ì§€ ì ‘ì†
**When**: ì„¸ ë²ˆì§¸ ë³„ì„ í„°ì¹˜
**Then**:
- í„°ì¹˜ ì´ë²¤íŠ¸ ì •ìƒ ì²˜ë¦¬
- 3ê°œ ë³„ì´ ë…¸ë€ìƒ‰ìœ¼ë¡œ ë³€ê²½
- ì¤‘ë³µ ì´ë²¤íŠ¸ ì—†ì´ í•œ ë²ˆë§Œ ì‹¤í–‰

---

### Test Case 8: í‰ì  í•„ìˆ˜ ê²€ì¦
**Given**: í‰ì ì„ ì„ íƒí•˜ì§€ ì•Šì€ ìƒíƒœ
**When**: ë‹¤ë¥¸ í•„ë“œë§Œ ì…ë ¥ í›„ "ë¦¬ë·° ì‘ì„±í•˜ê¸°" ë²„íŠ¼ í´ë¦­
**Then**:
- í¼ ì œì¶œ ì°¨ë‹¨
- í‰ì  ì„¹ì…˜ì— ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ: "í‰ì ì„ ì„ íƒí•´ì£¼ì„¸ìš”"
- ë³„ì  ì„¹ì…˜ì— ë¹¨ê°„ìƒ‰ í…Œë‘ë¦¬ í‘œì‹œ (ì˜µì…˜)

---

### Test Case 9: ë™ì¼ ë³„ ì¬í´ë¦­ (ìœ ì§€ ì •ì±…)
**Given**: 3ì ì´ ì„ íƒëœ ìƒíƒœ
**When**: ì„¸ ë²ˆì§¸ ë³„ì„ ë‹¤ì‹œ í´ë¦­
**Then**:
- 3ì  ì„ íƒ ìƒíƒœ ìœ ì§€ (ë³€í™” ì—†ìŒ)
- rating ê°’ ê·¸ëŒ€ë¡œ 3

---

### Test Case 10: ì œì¶œ í›„ í‰ì  í‘œì‹œ í™•ì¸
**Given**: ì‚¬ìš©ìê°€ 4ì ì„ ì„ íƒí•˜ê³  ë¦¬ë·° ì‘ì„± ì™„ë£Œ
**When**: ì¥ì†Œ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ì—¬ ì‘ì„±í•œ ë¦¬ë·° í™•ì¸
**Then**:
- ë¦¬ë·° ì¹´ë“œì— ë³„ 4ê°œ (â­â­â­â­â˜†) í‘œì‹œë¨
- í‰ê·  í‰ì  ê³„ì‚°ì— 4ì  ë°˜ì˜

---

## Related Use Cases (ê´€ë ¨ ìœ ì¦ˆì¼€ì´ìŠ¤)

- **UC-06: ë¦¬ë·° ì‘ì„± í˜ì´ì§€ ì§„ì…** - ë³„ì  ì„ íƒ UIê°€ í¬í•¨ëœ í˜ì´ì§€ ì§„ì…
- **UC-07: ë¦¬ë·° ì‘ì„± ë° ì œì¶œ** - ì„ íƒëœ í‰ì ì´ ì œì¶œ ë°ì´í„°ì— í¬í•¨
- **UC-04: ì¥ì†Œ ìƒì„¸ ì •ë³´ ë° ë¦¬ë·° ì¡°íšŒ** - ì œì¶œëœ í‰ì ì´ ë³„ ì•„ì´ì½˜ìœ¼ë¡œ í‘œì‹œ
- **UC-14: ë¦¬ë·° ë‚´ìš© ê¸€ì ìˆ˜ ì œí•œ** - ë™ì¼ í¼ ë‚´ ë‹¤ë¥¸ í•„ë“œì™€ ìƒí˜¸ì‘ìš©

---

## Appendix (ë¶€ë¡)

### A. ê¸°ìˆ  êµ¬í˜„ ë…¸íŠ¸

#### ì»´í¬ë„ŒíŠ¸ êµ¬ì¡° ì˜ˆì‹œ
```typescript
// components/StarRating.tsx
'use client';

import { Star } from 'lucide-react';
import { useState } from 'react';

interface StarRatingProps {
  value: number;
  onChange: (rating: number) => void;
}

export function StarRating({ value, onChange }: StarRatingProps) {
  const [hoverValue, setHoverValue] = useState(0);

  return (
    <div role="radiogroup" aria-label="í‰ì  ì„ íƒ">
      {[1, 2, 3, 4, 5].map((star) => (
        <button
          key={star}
          type="button"
          onClick={() => onChange(star)}
          onMouseEnter={() => setHoverValue(star)}
          onMouseLeave={() => setHoverValue(0)}
          aria-label={`${star}ì `}
          aria-checked={value === star}
          className="transition-colors duration-200"
        >
          <Star
            size={32}
            fill={(hoverValue || value) >= star ? '#FFD700' : 'none'}
            stroke={(hoverValue || value) >= star ? '#FFD700' : '#CCCCCC'}
          />
        </button>
      ))}
    </div>
  );
}
```

#### React Hook Form í†µí•©
```typescript
// pages/review/new.tsx
const { register, setValue, watch } = useForm<ReviewFormData>();
const rating = watch('rating');

<StarRating
  value={rating}
  onChange={(value) => setValue('rating', value)}
/>
```

### B. ë””ìì¸ ë¦¬ì†ŒìŠ¤
- **ì•„ì´ì½˜ ë¼ì´ë¸ŒëŸ¬ë¦¬**: lucide-react (Star ì»´í¬ë„ŒíŠ¸)
- **ìƒ‰ìƒ**:
  - ì„ íƒëœ ë³„: #FFD700 (Accent Yellow, PRD ì°¸ê³ )
  - ë¹„ì„ íƒ ë³„: #CCCCCC (Light Gray)
  - í˜¸ë²„ ë³„: #FFE680 (ì—°í•œ ë…¸ë€ìƒ‰)
- **ì• ë‹ˆë©”ì´ì…˜**: `transition: fill 0.2s ease-in-out, stroke 0.2s ease-in-out`

### C. í–¥í›„ í™•ì¥ ê³ ë ¤ì‚¬í•­
- **ë°˜ ë³„ í‰ì  ì§€ì›**: 3.5ì ê³¼ ê°™ì€ 0.5 ë‹¨ìœ„ í‰ì  (í´ë¦­ ìœ„ì¹˜ì— ë”°ë¼ ì¢Œ/ìš° ì ˆë°˜ êµ¬ë¶„)
- **í‰ì  ë¶„í¬ ì°¨íŠ¸**: ì¥ì†Œ ìƒì„¸ í˜ì´ì§€ì—ì„œ 1-5ì  ê°ê°ì˜ ë¦¬ë·° ê°œìˆ˜ë¥¼ ë§‰ëŒ€ ê·¸ë˜í”„ë¡œ í‘œì‹œ
- **í‰ì  ì• ë‹ˆë©”ì´ì…˜**: ë³„ ì„ íƒ ì‹œ ì‘ì€ ë°˜ì§ì„ íš¨ê³¼ ë˜ëŠ” ìŠ¤ì¼€ì¼ ì• ë‹ˆë©”ì´ì…˜
- **í‰ì  ë¯¸ë¦¬ë³´ê¸° í…ìŠ¤íŠ¸**: ë³„ ìœ„ì— ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ "ì¢‹ì•„ìš”", "ìµœê³ ì˜ˆìš”" ë“± í…ìŠ¤íŠ¸ í‘œì‹œ

---

**ì‘ì„±ì¼**: 2025-10-22
**ë²„ì „**: 1.0
**ì‘ì„±ì**: Senior Developer (via Claude Code)
